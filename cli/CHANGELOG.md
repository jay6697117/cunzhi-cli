# 更新日志

本文件记录了寸止 CLI 项目的所有重要更改。

格式基于 [Keep a Changelog](https://keepachangelog.com/zh-CN/1.0.0/)，
并且本项目遵循 [语义化版本](https://semver.org/lang/zh-CN/)。

## [未发布]

### 计划中的功能
- 支持更多 MCP 工具
- 插件系统
- 配置文件热重载
- 性能监控和分析

## [0.2.12] - 2025-06-26

### 新增
- 🚀 **项目初始化向导** - 类似 create-vue 的交互式初始化体验
  - 三种配置模板：基础配置、完整配置、自定义配置
  - 交互式工具选择和配置设置
  - 进度指示器和美观的用户界面
  - 项目名称验证和配置验证

- 🎨 **现代化用户界面** - 全面的 CLI 用户体验优化
  - 彩色输出和主题系统
  - 现代化进度条和旋转器
  - 状态指示器（成功、错误、警告、信息）
  - 美化的表格显示
  - 交互式确认对话框

- 🛡️ **统一错误处理系统** - 友好的错误处理和恢复机制
  - 8种应用程序错误类型分类
  - 用户友好的错误消息
  - 针对性的解决建议
  - 错误恢复策略和重试机制
  - 全局 panic 处理器

- 📊 **MCP 服务器管理** - 完整的服务器生命周期管理
  - 服务器启动、停止、状态查看
  - 工具启用状态管理
  - 实时进度显示和状态反馈
  - 配置集成和动态工具加载

- ⚙️ **灵活配置系统** - 强大的配置管理功能
  - JSON 格式配置文件
  - 配置显示、编辑、重置功能
  - 多平台配置文件路径支持
  - 配置模板和验证

- 🔧 **智能代码审查工具 (zhi)** - MCP 协议的代码质量分析
  - 代码风格检查
  - 潜在问题识别
  - 最佳实践建议

- 🧠 **记忆管理工具 (ji)** - 项目知识和最佳实践管理
  - 项目规范存储
  - 用户偏好记录
  - 上下文管理

- 🩺 **系统诊断功能** - 环境检查和问题诊断
  - 系统环境验证
  - 配置文件检查
  - 依赖项验证

### 改进
- 📝 **完整文档** - 详细的使用文档和安装指南
  - README.md - 项目概述和快速开始
  - INSTALL.md - 详细安装指南
  - CONTRIBUTING.md - 贡献指南
  - 命令行帮助和使用示例

- 🧪 **全面测试覆盖** - 单元测试和集成测试
  - 集成测试覆盖主要命令流程
  - 单元测试覆盖核心功能模块
  - 测试程序验证用户体验
  - 并发和性能测试

- 🏗️ **模块化架构** - 清晰的代码组织和模块分离
  - CLI 命令处理模块
  - MCP 服务器和工具模块
  - 配置管理模块
  - 工具函数和 UI 组件模块

### 技术改进
- 🦀 **Rust 最佳实践** - 遵循 Rust 社区标准
  - 错误处理使用 anyhow 和 thiserror
  - 异步编程使用 tokio
  - 序列化使用 serde
  - CLI 解析使用 clap

- 📦 **依赖管理** - 精心选择的依赖库
  - inquire - 交互式命令行界面
  - console - 终端控制和彩色输出
  - indicatif - 进度条显示
  - clap - 命令行参数解析

- 🔧 **构建优化** - 发布版本优化配置
  - 体积优化 (opt-level = "z")
  - 链接时优化 (lto = true)
  - 调试符号移除 (strip = true)

### 移除
- ❌ **GUI 相关代码** - 移除所有 Tauri 和前端代码
  - 删除 Tauri 依赖和配置
  - 移除前端 React 组件
  - 简化为纯命令行工具

- ❌ **Telegram Bot 功能** - 移除 Telegram 集成
  - 删除 Telegram Bot 相关代码
  - 移除 teloxide 依赖
  - 专注于核心 MCP 功能

### 修复
- 🐛 **配置文件处理** - 修复配置文件读写问题
  - 正确处理配置文件不存在的情况
  - 改进配置文件格式验证
  - 修复跨平台路径问题

- 🐛 **错误处理** - 改进错误消息和处理逻辑
  - 统一错误消息格式
  - 添加上下文信息
  - 改进错误恢复机制

### 安全
- 🔒 **输入验证** - 加强用户输入验证
  - 项目名称格式验证
  - 配置文件内容验证
  - 路径安全检查

## [0.1.0] - 2024-XX-XX

### 新增
- 初始版本发布
- 基础 MCP 服务器功能
- Tauri GUI 界面
- Telegram Bot 集成

---

## 版本说明

### 版本号格式
我们使用 [语义化版本](https://semver.org/lang/zh-CN/) 格式：`主版本号.次版本号.修订号`

- **主版本号**：不兼容的 API 修改
- **次版本号**：向下兼容的功能性新增
- **修订号**：向下兼容的问题修正

### 更改类型
- **新增** - 新功能
- **改进** - 对现有功能的改进
- **修复** - Bug 修复
- **移除** - 移除的功能
- **安全** - 安全相关的修复
- **弃用** - 即将移除的功能

### 发布周期
- **主版本**：根据需要发布，通常包含重大架构变更
- **次版本**：每月发布，包含新功能和改进
- **修订版本**：根据需要发布，主要是 Bug 修复

### 支持政策
- 当前主版本：完全支持
- 前一个主版本：安全更新和关键 Bug 修复
- 更早版本：不再支持

### 迁移指南
重大版本更新时，我们会提供详细的迁移指南，帮助用户平滑升级。

### 反馈和建议
如果您对版本更新有任何建议或发现问题，请：
1. 在 GitHub 上创建 Issue
2. 参与社区讨论
3. 提交 Pull Request

感谢您使用寸止 CLI！
